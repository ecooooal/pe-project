{% from 'components/core/index-table' import table %}
{% from 'components/core/breadcrumbs' import breadcrumb %}

{% extends 'components/core/faculty-layout' %}

{% block content %}

{{ breadcrumb() }}

<div class="flex justify-between items-center mx-4 pr-4">
  <div class="flex items-center justify-start gap-x-2 mx-4">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-9">
      <path d="M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z" />
    </svg>
    <h1 class="font-bold text-4xl">Reviewer Files</h1>
  </div>
  <a href="/reviewers/create" class="bg-blue-900 text-gray-200 hover:bg-blue-600 hover:text-white duration-300 rounded-lg p-2 font-semibold">
    Add Reviewer
  </a>
</div>

<div class="flex max-w-full mx-8 mt-4 rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-950/5">
  <div class="flex-1">

    <table class="w-full text-sm text-left text-gray-700">
      <thead class="text-xs text-gray-500 uppercase bg-gray-100 border-b">
        <tr>
          <th scope="col" class="px-6 py-3">ID</th>
          <th scope="col" class="px-6 py-3">Topic</th>
          <th scope="col" class="px-6 py-3">File Name</th>
          <th scope="col" class="px-6 py-3">File Path</th>
          <th scope="col" class="px-6 py-3">Date Created</th>
          <th scope="col" class="px-6 py-3">Action</th>
        </tr>
      </thead>
      <tbody>
        {% for row in rows %}
          <tr class="border-b hover:bg-gray-50">
            <td class="px-6 py-4">{{ row[0] }}</td>
            <td class="px-6 py-4">{{ row[1] }}</td>
            <td class="px-6 py-4">
              <a href="{{ asset(row[3]) }}" target="_blank" class="text-blue-600 underline">
                {{ row[2] }}
              </a>
            </td>
            <td class="px-6 py-4 text-gray-500">{{ row[3] }}</td>
            <td class="px-6 py-4">{{ row[4] }}</td>
            <td class="px-6 py-4">
              <form action="/reviewers/{{ row[0] }}" method="POST" onsubmit="return confirm('Are you sure you want to delete this file?');">
                <input type="hidden" name="_token" value="{{ csrf_token() }}">
                <input type="hidden" name="_method" value="DELETE">
                <button type="submit" class="text-red-600 hover:text-red-800 font-medium">Delete</button>
              </form>
            </td>
          </tr>
        {% else %}
          <tr>
            <td colspan="6" class="px-6 py-4 text-center text-gray-400">No reviewer files available.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>

  </div>
</div>

{% endblock %}
