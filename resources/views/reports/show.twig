{% from 'components/core/show-nav-item' import show_nav_item %}
{% from 'components/core/breadcrumbs' import breadcrumb %}
{% from 'components/core/show-header' import show_header %}
{% from 'components/core/show-item' import show_item %}

{% extends 'components/core/faculty-layout' %}

{% block content %}

{{ breadcrumb() }}
<div class="flex justify-between mx-4 px-4">
    <div class="flex flex-col">
    <h1 class="font-bold text-4xl text-gray-800">Report: Exam Name</h1>

        <div class="flex flex-wrap items-center w-full pl-2 gap-0.5">
                <span class="text-xs text-gray-400 font-semibold">Course/s : </span>
                {% for course in exam.courses %}
                <span class=" inline-flex items-center px-2 py-0.5 min-w-fit  bg-blue-100 rounded-full text-blue-900 font-semibold text-xs select-none"> 
                {{ course.abbreviation }}
                </span>
                {% endfor %}
        </div>  
    </div>

  
</div>
<div class="flex flex-1 flex-col gap-y-4">
    <div class="flex mx-auto max-w-fit">
        <button 
            type="button"
            popovertarget="create-report-popover" 
            class="flex gap-1 cursor-pointer bg-blue-900 text-gray-200 hover:bg-blue-600 hover:text-white active:bg-blue-900 duration-300 rounded-lg p-2 font-semibold">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
            <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z" clip-rule="evenodd" />
            </svg>
            Report
        </button>        
    </div>

    <div class="flex flex-col gap-2 max-w-full h-fit p-4 mx-8 rounded-xl bg-gray-100 shadow-sm ring-1 ring-gray-950/5">

        <div class="flex w-full">
            <details class="details-animated  w-full overflow-hidden bg-white rounded-xl shadow-sm ring-1 ring-gray-950/5">
                <summary class="flex flex-1 p-4  bg-white rounded-xl justify-between hover:bg-blue-900 group duration-300">
                    <span class="text-blue-900 text-xl font-bold group-hover:text-white">
                        Example Record 
                        <span class="text-xs text-slate-600 font-semibold group-hover:text-gray-400"> 
                            Created At : January 1 2025
                        </span>
                    </span>
                    <a      href="#"
                            class="cursor-pointer text-blue-900 text-xl font-bold group-hover:text-white">
                        See full report
                    </a>
                </summary>
                
                    <div class="flex flex-1 flex-col prose max-w-none gap-y-4 border-t-1 border-blue-900/90">
                        <div class="px-4 rounded-2xl text-gray-800">            
                            <table>
                                <thead>
                                <tr>
                                    <th>Subject</th>
                                    <th>Total Score</th>
                                    <th>Scores Obtained</th>
                                </tr>
                                </thead>
                                <tbody>
                                    {% for subject in record.subjects %}
                                    <tr>
                                        <td>{{ subject.subject_name }}</td>
                                        <td>{{ subject.score }}</td>
                                        <td>{{ subject.score_obtained }}</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                
            </details>
        </div>

    </div>

<div popover="manual"
    class="backdrop:bg-gray-900/25 m-auto rounded-xl w-96" 
    id="create-report-popover"
    >
    <div    hx-get="{{ route('courses.create') }}"
            hx-trigger="click"
            hx-target="this"
            hx-swap="innerHTML">  
            hello
    </div>
</div>
{% endblock %}

