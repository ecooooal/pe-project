{% from 'components/core/breadcrumbs' import breadcrumb %}

{% extends 'components/core/faculty-layout' %}

{% block content %}

{{ breadcrumb() }}
<div class="flex justify-between items-center mx-4 pr-4">
    <div class="flex items-center justify-start gap-x-2 mx-4 text-gray-800">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-10">
        <path fill-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6Zm4.5 7.5a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0v-2.25a.75.75 0 0 1 .75-.75Zm3.75-1.5a.75.75 0 0 0-1.5 0v4.5a.75.75 0 0 0 1.5 0V12Zm2.25-3a.75.75 0 0 1 .75.75v6.75a.75.75 0 0 1-1.5 0V9.75A.75.75 0 0 1 13.5 9Zm3.75-1.5a.75.75 0 0 0-1.5 0v9a.75.75 0 0 0 1.5 0v-9Z" clip-rule="evenodd" />
        </svg>
        <h1 class="font-bold text-4xl">Reports Management</h1>
    </div>
    {% if can('create subjects') %}
    <div class="flex gap-1">
        <a href="{{ route('reports.info') }}" class="flex gap-1 text-blue-900 hover:underline duration-300 p-2 font-semibold">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
            <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd" />
            </svg>

            About Reports
        </a>
    </div>
    {% endif %}
</div>
    <div class="flex flex-wrap gap-4 max-w-full mx-8 my-4 pr-4 rounded-xl bg-white p-8 shadow-sm ring-1 ring-gray-950/5 ">
        {% for exam in exams %}
        <a href="{{ route('reports.index_exam', { exam:exam.id } ) }}">
        <div class="flex flex-col bg-white shadow-xs drop-shadow-xs border border-slate-200 rounded-lg max-h-55 w-55 hover:bg-blue-900 group duration-300">     
            <div class="p-4 overflow-auto">
                <h5 class="mb-2 text-slate-800 text-xl font-bold group-hover:text-white truncate">
                    {{ exam.name }}
                </h5>
            </div>
            <div class="flex flex-wrap gap-1 mx-3 border-t border-slate-200 pb-3 pt-2 px-1 ">
                {% for course in exam.courses %}
                <span class=" inline-flex items-center px-2 py-0.5 min-w-fit  bg-blue-100 rounded-full text-blue-900 font-semibold text-xs select-none"> 
                {{ course.abbreviation }}
                </span>
                {% endfor %}
            </div>
        </div>
        </a>
        {% endfor %}
    </div>
{% endblock %}